name: graph-lsp

commands:
env_specs:
  default:
    platforms:
      - linux-64
      - osx-64
      - win-64
    inherit_from:
      - graph_lsp
      - _utest
      - _lint
    packages:
      - pip
      - python >=3.7,<3.8.0a0
      - twine
      - wheel
  graph_lsp:
    description: binder environment
    channels:
      - https://conda.anaconda.org/conda-forge
    packages:
      - ipython >=7
      - ipywidgets >=7.5.1
      - jupyterlab >=3,<4
      - jupyterlab_widgets >=1.0.0
      - nodejs >=14,<15
      - python >=3.7
      - jupyterlab-lsp >=3,<4

    platforms: &id001
      - linux-64
      - osx-64
      - win-64
  _lint:
    description: linting/formatting environment. not actually created.
    packages:
      - black
      - isort
      - pyflakes
      - flake8

    platforms: *id001
  _utest:
    description: unit test environment. not actually created.
    packages:
      - pytest-asyncio
      - pytest-cov
      - pytest-html
      - pytest-xdist
    platforms: *id001
